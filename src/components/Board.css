.board-container-wrapper {
  position: relative;
  display: inline-block;
  overflow: visible;
}

.board-with-labels {
  display: inline-block;
  overflow: visible;
}

.axis-labels-top {
  display: flex;
  margin-bottom: 5px;
}

.axis-corner {
  width: 30px;
  height: 30px;
}

.axis-label-number {
  width: 40px;
  height: 30px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 1rem;
  color: var(--board-border);
  text-shadow: 0 0 5px var(--board-border);
  font-family: 'Courier New', monospace;
}

.board-with-letters {
  display: flex;
  overflow: visible;
}

.axis-labels-left {
  display: flex;
  flex-direction: column;
  margin-right: 5px;
}

.axis-label-letter {
  width: 30px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 1rem;
  color: var(--board-border);
  text-shadow: 0 0 5px var(--board-border);
  font-family: 'Courier New', monospace;
}

.board {
  position: relative;
  display: inline-block;
  border: 3px solid var(--board-border);
  background-color: #0a0a1a;
  overflow: visible;
}

.theme-default .board {
  box-shadow: 
    0 0 20px rgba(0, 255, 255, 0.5),
    inset 0 0 30px rgba(0, 255, 255, 0.1);
}

.theme-cb .board {
  box-shadow: 
    0 0 20px rgba(255, 191, 0, 0.5),
    inset 0 0 30px rgba(255, 191, 0, 0.1);
}

.board-row {
  display: flex;
  overflow: visible;
}

.cell {
  width: 40px;
  height: 40px;
  border: 1px solid var(--grid-line);
  background-color: var(--cell-bg);
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  font-size: 24px;
  transition: all 0.2s;
  position: relative;
  z-index: 1;
}

.theme-default .cell {
  box-shadow: inset 0 0 10px rgba(0, 150, 255, 0.2);
}

.theme-cb .cell {
  box-shadow: inset 0 0 10px rgba(123, 97, 255, 0.2);
}

.cell.ship-cell {
  background-color: var(--cell-ship);
}

.theme-default .cell.ship-cell {
  box-shadow: inset 0 0 15px rgba(0, 150, 255, 0.3);
}

.theme-cb .cell.ship-cell {
  box-shadow: inset 0 0 15px rgba(123, 97, 255, 0.3);
}

.cell.ship {
  background-color: #1a5a8e;
}

.ship-overlay,
.ship-overlay-preview {
  transition: all 0.1s ease;
}

.ship-svg-grid {
  filter: drop-shadow(2px 2px 4px rgba(0, 0, 0, 0.4));
}

.cell.hit {
  background-color: #ff0066;
  box-shadow: 
    0 0 15px rgba(255, 0, 102, 0.8),
    inset 0 0 15px rgba(255, 0, 102, 0.5);
  animation: hitFlash 0.5s ease-out;
}

@keyframes hitFlash {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.6; }
}

.cell.miss {
  background-color: #001a33;
  box-shadow: 
    0 0 10px rgba(0, 100, 200, 0.5),
    inset 0 0 10px rgba(0, 100, 200, 0.3);
}

/* Colorblind mode uses patterns + high contrast colors */
.cell.hit-colorblind {
  background-color: #0066cc;
  background-image: repeating-linear-gradient(
    45deg,
    transparent,
    transparent 5px,
    rgba(255, 255, 255, 0.3) 5px,
    rgba(255, 255, 255, 0.3) 10px
  );
  box-shadow: 0 0 15px rgba(0, 102, 204, 0.8);
  animation: hitFlash 0.5s ease-out;
}

.cell.miss-colorblind {
  background-color: #ffaa00;
  background-image: repeating-linear-gradient(
    -45deg,
    transparent,
    transparent 5px,
    rgba(0, 0, 0, 0.2) 5px,
    rgba(0, 0, 0, 0.2) 10px
  );
  box-shadow: 0 0 10px rgba(255, 170, 0, 0.8);
}

.cell.highlight {
  background-color: var(--preview-highlight);
  opacity: 0.8;
  animation: highlightPulse 1s ease-in-out infinite;
}

.theme-default .cell.highlight {
  box-shadow: 
    0 0 15px rgba(255, 102, 0, 0.8),
    inset 0 0 15px rgba(255, 102, 0, 0.5);
}

.theme-cb .cell.highlight {
  box-shadow: 
    0 0 15px rgba(179, 125, 255, 0.8),
    inset 0 0 15px rgba(179, 125, 255, 0.5);
}

@keyframes highlightPulse {
  0%, 100% { opacity: 0.8; }
  50% { opacity: 0.5; }
}

.cell.clickable {
  cursor: pointer;
}

.theme-default .cell.clickable:hover {
  box-shadow: 
    0 0 20px rgba(255, 0, 0, 1),
    0 0 30px rgba(255, 0, 0, 0.8),
    inset 0 0 20px rgba(255, 0, 0, 0.6);
  z-index: 10;
}

.theme-cb .cell.clickable:hover {
  box-shadow: 
    0 0 20px var(--hover-target),
    0 0 30px rgba(179, 125, 255, 0.8),
    inset 0 0 20px rgba(179, 125, 255, 0.6);
  z-index: 10;
}

.hit-marker {
  color: #ffff00;
  text-shadow: 
    0 0 10px #ffff00,
    0 0 20px #ff0066;
  font-weight: bold;
  animation: markerGlow 1s ease-in-out infinite;
}

.miss-marker {
  color: var(--text-primary);
  text-shadow: 0 0 10px var(--text-primary);
  font-weight: bold;
}

.hit-marker-colorblind {
  color: #ffffff;
  text-shadow: 
    0 0 10px #ffffff,
    0 0 20px #0066cc;
  font-weight: bold;
  animation: markerGlow 1s ease-in-out infinite;
}

.miss-marker-colorblind {
  color: #000000;
  text-shadow: 0 0 10px #ffaa00;
  font-weight: bold;
}

@keyframes markerGlow {
  0%, 100% {
    text-shadow: 
      0 0 10px #ffff00,
      0 0 20px #ff0066;
  }
  50% {
    text-shadow: 
      0 0 20px #ffff00,
      0 0 30px #ff0066;
  }
}
